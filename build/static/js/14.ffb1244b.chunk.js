(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{245:function(e,t,a){"use strict";a(34),a(246)},246:function(e,t,a){},247:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(a(4)),n=i(a(5)),r=i(a(2)),l=i(a(6)),o=i(a(9)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(0));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,s.default)(this,t),(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,n.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.size,s=e.className,n=e.children,r=e.style,l=(0,o.default)(t,t+"-"+a,s);return c.createElement("div",{className:l,style:r},n)}}]),t}(c.Component);t.default=u,u.defaultProps={prefixCls:"am-wingblank",size:"lg"},e.exports=t.default},269:function(e,t,a){e.exports={"user-form-list":"a49ZF20SrPYhqRK3kJ9dB",title:"_1XcbMcssPTATg9nItcMGrC",link:"_2uwbRc-Wo3N2zPhbTw2hZC","show-pass-style":"_2GfKBdi-7chLc8aRmLkqcj",hide:"_1v15fmTrGAui_y-n1g4Dqm",tips:"_3xmGw363_RfcsBWIdTw7pd"}},399:function(e,t,a){"use strict";a.r(t);a(142);var s=a(73),n=a.n(s),r=(a(141),a(99)),l=a.n(r),o=(a(251),a(252)),c=a.n(o),i=(a(143),a(67)),u=a.n(i),h=(a(245),a(247)),m=a.n(h),p=a(55),f=(a(259),a(260)),d=a.n(f),E=(a(51),a(16)),g=a.n(E),y=a(11),k=a(12),w=a(15),b=a(13),v=a(14),P=a(0),S=a.n(P),C=a(24),_=a(20),O=a(36),j=a(257),L=a(23),T=a(101),N=a(9),W=a.n(N),x=a(269),M=a.n(x),H=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(w.a)(this,Object(b.a)(t).call(this,e))).onClickSubmit=function(e){e.preventDefault();var t=a.state,s=t.token,n=t.username,r=t.password;if(a.state.curLoginWay){if(!/([a-zA-Z0-9!@#$%^&*()_?<>{}]){8,16}/.test(r))return void g.a.fail("\u5bc6\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",3,null,!1);var l={username:n,password:r,grant_type:"password"};a.props.dispatch(Object(T.b)(l)).then(function(e){a.props.history.replace(a.fromHash),g.a.success("\u606d\u559c\u60a8\u767b\u5f55\u6210\u529f",3,null,!1)}).catch(function(e){g.a.fail(e.message,3,null,!1)})}else{var o={token:s};a.props.dispatch(Object(T.c)(o)).then(function(e){a.props.history.replace(a.fromHash),g.a.success("\u606d\u559c\u60a8\u767b\u5f55\u6210\u529f",3,null,!1)}).catch(function(e){g.a.fail(e.message)})}},a.onChangeUsername=function(e){e.replace(/\s/g,"").length<4?a.setState({haseErrorName:!1}):a.setState({haseErrorName:!0}),a.setState({username:e})},a.onChangeLoginPass=function(e){e.replace(/\s/g,"").length<8?a.setState({haseErrorPass:!1}):a.setState({haseErrorPass:!0}),a.setState({password:e})},a.onChangeToken=function(e){e.replace(/\s/g,"").length<8?a.setState({haseErrorToken:!1}):a.setState({haseErrorToken:!0}),a.setState({token:e})},a.switchLoginWay=function(){a.state.curLoginWay?a.setState({curLoginWay:!1}):a.setState({curLoginWay:!0})},a.onClickShowPass=function(){a.setState({isShowPass:!0,showPassStyle:"\u9690\u85cf"})},a.onClickHidePass=function(){a.setState({isShowPass:!1,showPassStyle:"\u663e\u793a"})},a.fromHash=Object(L.c)("from_hash",e.location.search)?Object(L.c)("from_hash",e.location.search):"/",a.state={curLoginWay:!0,username:"",password:"",token:"",haseErrorPass:!1,haseErrorName:!1,haseErrorToken:!1,isShowPass:!1,showPassStyle:"\u663e\u793a"},a}return Object(v.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return S.a.createElement("div",{className:M.a["user-form-list"]},S.a.createElement(n.a,null,S.a.createElement("div",{className:M.a.title},this.state.curLoginWay?"\u7528\u6237\u540d/\u90ae\u7bb1\u767b\u5f55":"Token\u767b\u5f55"),this.state.curLoginWay?S.a.createElement("div",null,S.a.createElement(d.a,{value:this.state.username,clear:!0,type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d\u6216\u90ae\u7bb1",onChange:this.onChangeUsername},"\u7528\u6237\u540d/\u90ae\u7bb1"),S.a.createElement(d.a,{value:this.state.password,clear:!0,type:this.state.isShowPass?"text":"password",placeholder:"\u8bf7\u8f93\u51658-16\u4f4d\u5bc6\u7801",minLength:8,maxLength:16,onChange:this.onChangeLoginPass,extra:S.a.createElement("div",{className:W()(Object(p.a)({},"".concat(M.a["show-pass-style"]),!0),Object(p.a)({},"".concat(M.a.hide),this.state.isShowPass))},this.state.showPassStyle),onExtraClick:this.state.isShowPass?this.onClickHidePass.bind(this):this.onClickShowPass.bind(this)},"\u5bc6\u7801"),S.a.createElement("div",{className:M.a.tips},S.a.createElement("p",null,"\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u4ec5\u7528\u4e8e\u6743\u9650\u6821\u9a8c\uff0c\u4e0d\u4f1a\u88ab\u4e0a\u4f20\u81f3\u670d\u52a1\u5668"))):S.a.createElement("div",null,S.a.createElement(d.a,{value:this.state.token,clear:!0,type:"text",placeholder:"\u8bf7\u8f93\u5165Token",onChange:this.onChangeToken},"Token"),S.a.createElement("div",{className:M.a.tips},S.a.createElement("p",null,"1\u3001Token \u53ca\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u4ec5\u7528\u4e8e\u6743\u9650\u6821\u9a8c\uff0c\u4e0d\u4f1a\u88ab\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\uff1b"),S.a.createElement("p",null,"2\u3001Token \u7684\u751f\u6210\u65b9\u5f0f\uff0c\u8bf7\u70b9\u51fb\u590d\u5236\u4ee5\u4e0b\u5730\u5740\u81f3\u6d4f\u89c8\u5668\u6253\u5f00\uff0c\u6309\u7167\u6b65\u9aa4\u5373\u53ef\u751f\u6210\u3002"))),S.a.createElement(u.a,null,S.a.createElement(u.a.Item,{style:{textAlign:"right"}},S.a.createElement(m.a,null,S.a.createElement(m.a,null,S.a.createElement(C.b,{className:M.a.link,onClick:this.switchLoginWay.bind(this)},this.state.curLoginWay?"Token\u767b\u5f55":"\u7528\u6237\u540d/\u90ae\u7bb1\u767b\u5f55"))))),S.a.createElement(c.a,null)," ",S.a.createElement(c.a,null)," ",S.a.createElement(c.a,null),S.a.createElement(m.a,null,S.a.createElement(m.a,null,S.a.createElement(l.a,{type:"primary",disabled:this.state.curLoginWay?!(this.state.haseErrorName&&this.state.haseErrorPass):!this.state.haseErrorToken,onClick:this.onClickSubmit.bind(this)},"\u767b\u5f55"))),S.a.createElement(c.a,null)," ",S.a.createElement(c.a,null),S.a.createElement(c.a,null),S.a.createElement(m.a,null,S.a.createElement(m.a,null,S.a.createElement(l.a,{type:"ghost",onClick:function(){return e.props.history.push("/register")}},"\u65b0\u7528\u6237\u6ce8\u518c"))),S.a.createElement(c.a,null)," ",S.a.createElement(c.a,null)," ",S.a.createElement(c.a,null)))}}]),t}(P.PureComponent);t.default=Object(j.a)()(Object(_.g)(Object(O.b)()(H)))}}]);
//# sourceMappingURL=14.ffb1244b.chunk.js.map