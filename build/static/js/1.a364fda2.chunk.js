(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{259:function(e,t,n){"use strict";n(34),n(142),n(280)},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(22)),o=h(n(3)),a=h(n(4)),l=h(n(5)),u=h(n(2)),i=h(n(6)),s=h(n(9)),c=y(n(1)),d=y(n(0)),f=h(n(74)),p=n(148),m=h(n(281)),b=h(n(285));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};function C(){}function g(e){return"undefined"===typeof e||null===e?"":e+""}var k=function(e){function t(e){(0,a.default)(this,t);var n=(0,u.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(e){var t=e.target,r=t.value,o=0;try{o=t.selectionEnd||0}catch(c){console.warn("Get selection error:",c)}var a=n.state.value,l=void 0===a?"":a,u=n.props.type,i=r;switch(u){case"bankCard":i=r.replace(/\D/g,"").replace(/(....)(?=.)/g,"$1 ");break;case"phone":var s=(i=r.replace(/\D/g,"").substring(0,11)).length;s>3&&s<8?i=i.substr(0,3)+" "+i.substr(3):s>=8&&(i=i.substr(0,3)+" "+i.substr(3,4)+" "+i.substr(7));break;case"number":i=r.replace(/\D/g,"")}n.handleOnChange(i,i!==r,function(){switch(u){case"bankCard":case"phone":case"number":try{var e=n.calcPos(o,l,r,i,[" "],/\D/g);("phone"===u&&(4===e||9===e)||"bankCard"===u&&e>0&&e%5===0)&&(e-=1),t.selectionStart=t.selectionEnd=e}catch(c){console.warn("Set selection error:",c)}}})},n.handleOnChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C,o=n.props.onChange;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:e}),o?t?setTimeout(function(){o(e),r()}):(o(e),r()):r()},n.onInputFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0}),n.props.onFocus&&n.props.onFocus(e)},n.onInputBlur=function(e){n.inputRef&&(n.debounceTimeout=window.setTimeout(function(){document.activeElement!==(n.inputRef&&n.inputRef.inputRef)&&n.setState({focus:!1})},200)),n.props.onBlur&&(setTimeout(function(){document.body&&(document.body.scrollTop=document.body.scrollTop)},100),n.props.onBlur(e))},n.clearInput=function(){"password"!==n.props.type&&n.props.updatePlaceholder&&n.setState({placeholder:n.props.value}),n.setState({value:""}),n.props.onChange&&n.props.onChange(""),n.focus()},n.focus=function(){n.inputRef&&n.inputRef.focus()},n.calcPos=function(e,t,n,r,o,a){var l=n.length-t.length,u=e;if(l>0){var i=n.substr(u-l,l).replace(a,"").length;u-=l-i;for(var s=0;i>0;)-1===o.indexOf(r.charAt(u-i+s))?i--:s++;u+=s}return u},n.state={placeholder:e.placeholder,value:g(e.value||e.defaultValue)},n}return(0,i.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){"placeholder"in e&&!e.updatePlaceholder&&this.setState({placeholder:e.placeholder}),"value"in e&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(window.clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,a=this,l=(0,o.default)({},this.props);delete l.updatePlaceholder;var u=l.prefixCls,i=l.prefixListCls,c=l.editable,y=l.style,h=l.clear,C=l.children,k=l.error,O=l.className,_=l.extra,P=l.labelNumber,K=l.type,x=l.onExtraClick,I=l.onErrorClick,E=l.moneyKeyboardAlign,w=l.moneyKeyboardWrapProps,L=l.moneyKeyboardHeader,j=l.onVirtualKeyboardConfirm,N=l.autoAdjustHeight,B=v(l,["prefixCls","prefixListCls","editable","style","clear","children","error","className","extra","labelNumber","type","onExtraClick","onErrorClick","moneyKeyboardAlign","moneyKeyboardWrapProps","moneyKeyboardHeader","onVirtualKeyboardConfirm","autoAdjustHeight"]),S=B.name,R=B.disabled,A=B.maxLength,F=this.state.value,M=(0,p.getComponentLocale)(this.props,this.context,"InputItem",function(){return n(286)}),T=M.confirmLabel,H=M.backspaceLabel,D=M.cancelKeyboardLabel,W=this.state,V=W.focus,U=W.placeholder,J=(0,s.default)(i+"-item",u+"-item",i+"-item-middle",O,(e={},(0,r.default)(e,u+"-disabled",R),(0,r.default)(e,u+"-error",k),(0,r.default)(e,u+"-focus",V),(0,r.default)(e,u+"-android",V),e)),q=(0,s.default)(u+"-label",(t={},(0,r.default)(t,u+"-label-2",2===P),(0,r.default)(t,u+"-label-3",3===P),(0,r.default)(t,u+"-label-4",4===P),(0,r.default)(t,u+"-label-5",5===P),(0,r.default)(t,u+"-label-6",6===P),(0,r.default)(t,u+"-label-7",7===P),t)),G=u+"-control",$="text";"bankCard"===K||"phone"===K?$="tel":"password"===K?$="password":"digit"===K?$="number":"text"!==K&&"number"!==K&&($=K);var z=void 0;"number"===K&&(z={pattern:"[0-9]*"});var Q=void 0;return"digit"===K&&(Q={className:"h5numInput"}),d.createElement("div",{className:J},d.createElement("div",{className:i+"-line"},C?d.createElement("div",{className:q},C):null,d.createElement("div",{className:G},"money"===K?d.createElement(m.default,{value:g(F),type:K,ref:function(e){return a.inputRef=e},maxLength:A,placeholder:U,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onVirtualKeyboardConfirm:j,disabled:R,editable:c,prefixCls:u,style:y,confirmLabel:T,backspaceLabel:H,cancelKeyboardLabel:D,moneyKeyboardAlign:E,moneyKeyboardWrapProps:w,moneyKeyboardHeader:L,autoAdjustHeight:N}):d.createElement(b.default,(0,o.default)({},z,B,Q,{value:g(F),defaultValue:void 0,ref:function(e){return a.inputRef=e},style:y,type:$,maxLength:A,name:S,placeholder:U,onChange:this.onInputChange,onFocus:this.onInputFocus,onBlur:this.onInputBlur,readOnly:!c,disabled:R}))),h&&c&&!R&&F&&(""+F).length>0?d.createElement(f.default,{activeClassName:u+"-clear-active"},d.createElement("div",{className:u+"-clear",onClick:this.clearInput})):null,k?d.createElement("div",{className:u+"-error-extra",onClick:I}):null,""!==_?d.createElement("div",{className:u+"-extra",onClick:x},_):null))}}]),t}(d.Component);k.defaultProps={prefixCls:"am-input",prefixListCls:"am-list",type:"text",editable:!0,disabled:!1,placeholder:"",clear:!1,onChange:C,onBlur:C,onFocus:C,extra:"",onExtraClick:C,error:!1,onErrorClick:C,onVirtualKeyboardConfirm:C,labelNumber:5,updatePlaceholder:!1,moneyKeyboardAlign:"right",moneyKeyboardWrapProps:{},moneyKeyboardHeader:null},k.contextTypes={antLocale:c.object},t.default=k,e.exports=t.default},270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement);t.IS_IOS=r&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)},280:function(e,t,n){},281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(4)),o=b(n(5)),a=b(n(2)),l=b(n(6)),u=b(n(9)),i=m(n(0)),s=m(n(10)),c=n(282),d=b(n(283)),f=b(n(284)),p=n(270);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}var y=[],h=null,v=!!s.createPortal;var C=function(e){function t(e){(0,r.default)(this,t);var n=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){"value"in n.props||n.setState({value:e.target.value}),n.props.onChange(e)},n.onConfirm=function(e){n.props.onVirtualKeyboardConfirm(e)},n.addBlurListener=function(){document.addEventListener("click",n.doBlur,!1)},n.removeBlurListener=function(){document.removeEventListener("click",n.doBlur,!1)},n.saveRef=function(e){v&&e&&(h=e,y.push({el:e,container:n.container}))},n.doBlur=function(e){var t=n.state.value;e.target!==n.inputRef&&n.onInputBlur(t)},n.removeCurrentExtraKeyboard=function(){y=y.filter(function(e){var t=e.el,n=e.container;return t&&n&&t!==h&&n.parentNode.removeChild(n),t===h})},n.unLinkInput=function(){h&&h.antmKeyboard&&h.linkedInput&&h.linkedInput===n&&(h.linkedInput=null,n.props.autoAdjustHeight&&(n.getContainer().style.height="0"),(0,c.addClass)(h.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")),n.removeBlurListener(),v&&n.removeCurrentExtraKeyboard()},n.onInputBlur=function(e){n.state.focus&&(n.setState({focus:!1}),n.props.onBlur(e),setTimeout(function(){n.unLinkInput()},50))},n.onInputFocus=function(){var e=n.state.value;n.props.onFocus(e),n.setState({focus:!0},function(){if(h){if(h.linkedInput=n,h.antmKeyboard){if(n.props.autoAdjustHeight){var t=h.antmKeyboard.offsetHeight;if(n.getContainer().style.height=t+"px",n.inputRef){var r=n.inputRef.getBoundingClientRect().bottom,o=window.innerHeight-r;o<t&&(a=function(){var e=document.scrollingElement||document.documentElement;return e&&e.scrollTop||0}()+t-o,(document.scrollingElement||document.documentElement).scrollTop=a)}}(0,c.removeClass)(h.antmKeyboard,n.props.keyboardPrefixCls+"-wrapper-hide")}h.confirmDisabled=""===e,h.confirmKeyboardItem&&(""===e?(0,c.addClass)(h.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):(0,c.removeClass)(h.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"))}var a})},n.onKeyboardClick=function(e){var t=n.props.maxLength,r=n.state.value,o=n.onChange,a=void 0;"delete"===e?o({target:{value:a=r.substring(0,r.length-1)}}):"confirm"===e?(o({target:{value:a=r}}),n.onInputBlur(r),n.onConfirm(r)):"hide"===e?(a=r,n.onInputBlur(a)):o(void 0!==t&&+t>=0&&(r+e).length>t?{target:{value:a=(r+e).substr(0,t)}}:{target:{value:a=r+e}}),h&&(h.confirmDisabled=""===a,h.confirmKeyboardItem&&(""===a?(0,c.addClass)(h.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled"):(0,c.removeClass)(h.confirmKeyboardItem,n.props.keyboardPrefixCls+"-item-disabled")))},n.onFakeInputClick=function(){n.focus()},n.focus=function(){n.removeBlurListener(),n.state.focus||n.onInputFocus(),setTimeout(function(){n.addBlurListener()},50)},n.state={focus:!1,value:e.value||""},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:e.value})}},{key:"componentDidUpdate",value:function(){this.renderCustomKeyboard()}},{key:"componentWillUnmount",value:function(){this.state.focus&&this.props.onBlur(this.state.value),this.unLinkInput()}},{key:"getComponent",value:function(){var e=this.props,t=e.confirmLabel,n=e.backspaceLabel,r=e.cancelKeyboardLabel,o=e.keyboardPrefixCls,a=e.moneyKeyboardWrapProps,l=e.moneyKeyboardHeader;return i.createElement(d.default,{ref:this.saveRef,onClick:this.onKeyboardClick,prefixCls:o,confirmLabel:t,backspaceLabel:n,cancelKeyboardLabel:r,wrapProps:a,header:l})}},{key:"getContainer",value:function(){var e=this.props.keyboardPrefixCls;if(v){if(!this.container){var t=document.createElement("div");t.setAttribute("id",e+"-container-"+(new Date).getTime()),document.body.appendChild(t),this.container=t}}else{var n=document.querySelector("#"+e+"-container");n||((n=document.createElement("div")).setAttribute("id",e+"-container"),document.body.appendChild(n)),this.container=n}return this.container}},{key:"renderCustomKeyboard",value:function(){v||(h=s.unstable_renderSubtreeIntoContainer(this,this.getComponent(),this.getContainer()))}},{key:"renderPortal",value:function(){var e=this;return v&&p.canUseDOM?i.createElement(f.default,{getContainer:function(){return e.getContainer()}},this.getComponent()):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,r=t.disabled,o=t.editable,a=t.moneyKeyboardAlign,l=this.state,s=l.focus,c=l.value,d=r||!o,f=(0,u.default)("fake-input",{focus:s,"fake-input-disabled":r}),p=(0,u.default)("fake-input-container",{"fake-input-container-left":"left"===a});return i.createElement("div",{className:p},""===c&&i.createElement("div",{className:"fake-input-placeholder"},n),i.createElement("div",{role:"textbox","aria-label":c||n,className:f,ref:function(t){return e.inputRef=t},onClick:d?function(){}:this.onFakeInputClick},c),this.renderPortal())}}]),t}(i.Component);C.defaultProps={onChange:function(){},onFocus:function(){},onBlur:function(){},onVirtualKeyboardConfirm:function(){},placeholder:"",disabled:!1,editable:!0,prefixCls:"am-input",keyboardPrefixCls:"am-number-keyboard",autoAdjustHeight:!1},t.default=C,e.exports=t.default},282:function(e,t,n){"use strict";function r(e,t){return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=r,t.addClass=function(e,t){e.classList?e.classList.add(t):r(e,t)||(e.className=e.className+" "+t)},t.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(r(e,t)){var n=e.className;e.className=(" "+n+" ").replace(" "+t+" ","")}}},283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardItem=void 0;var r=f(n(3)),o=f(n(4)),a=f(n(5)),l=f(n(2)),u=f(n(6)),i=f(n(9)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),c=f(n(74)),d=n(270);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},m=t.KeyboardItem=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.onClick,o=e.className,a=(e.disabled,e.children),l=e.tdRef,u=e.label,d=e.iconOnly,f=p(e,["prefixCls","onClick","className","disabled","children","tdRef","label","iconOnly"]),m=a;"keyboard-delete"===o?m="delete":"keyboard-hide"===o?m="hide":"keyboard-confirm"===o&&(m="confirm");var b=(0,i.default)(t+"-item",o);return s.createElement(c.default,{activeClassName:t+"-item-active"},s.createElement("td",(0,r.default)({ref:l,onClick:function(e){n(e,m)},className:b},f),a,d&&s.createElement("i",{className:"sr-only"},u)))}}]),t}(s.Component);m.defaultProps={prefixCls:"am-number-keyboard",onClick:function(){},disabled:!1};var b=function(e){function t(){(0,o.default)(this,t);var e=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onKeyboardClick=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.nativeEvent.stopImmediatePropagation(),"confirm"===n&&e.confirmDisabled)return null;e.linkedInput&&e.linkedInput.onKeyboardClick(n)},e.renderKeyboardItem=function(t,n){return s.createElement(m,{onClick:e.onKeyboardClick,key:"item-"+t+"-"+n},t)},e}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,o=t.confirmLabel,a=t.backspaceLabel,l=t.cancelKeyboardLabel,u=t.wrapProps,c=t.header,d=(0,i.default)(n+"-wrapper",n+"-wrapper-hide");return s.createElement("div",(0,r.default)({className:d,ref:function(t){return e.antmKeyboard=t}},u),c&&s.cloneElement(c,{onClick:this.onKeyboardClick}),s.createElement("table",null,s.createElement("tbody",null,s.createElement("tr",null,["1","2","3"].map(function(t,n){return e.renderKeyboardItem(t,n)}),s.createElement(m,(0,r.default)({className:"keyboard-delete",rowSpan:2,onClick:this.onKeyboardClick},this.getAriaAttr(a)))),s.createElement("tr",null,["4","5","6"].map(function(t,n){return e.renderKeyboardItem(t,n)})),s.createElement("tr",null,["7","8","9"].map(function(t,n){return e.renderKeyboardItem(t,n)}),s.createElement(m,{className:"keyboard-confirm",rowSpan:2,onClick:this.onKeyboardClick,tdRef:function(t){return e.confirmKeyboardItem=t}},o)),s.createElement("tr",null,[".","0"].map(function(t,n){return e.renderKeyboardItem(t,n)}),s.createElement(m,(0,r.default)({className:"keyboard-hide",onClick:this.onKeyboardClick},this.getAriaAttr(l)))))))}},{key:"getAriaAttr",value:function(e){return d.IS_IOS?{label:e,iconOnly:!0}:{role:"button","aria-label":e}}}]),t}(s.Component);b.defaultProps={prefixCls:"am-number-keyboard"},t.default=b},284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(4)),o=s(n(5)),a=s(n(2)),l=s(n(6)),u=i(n(0));function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}var c=i(n(10)).createPortal,d=function(e){function t(e){(0,r.default)(this,t);var n=(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container=n.props.getContainer(),n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return this.props.children?c(this.props.children,this.container):null}}]),t}(u.Component);t.default=d,e.exports=t.default},285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),o=s(n(4)),a=s(n(5)),l=s(n(2)),u=s(n(6)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},d=function(e){function t(){(0,o.default)(this,t);var e=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onInputBlur=function(t){var n=t.target.value;e.props.onBlur&&e.props.onBlur(n)},e.onInputFocus=function(t){var n=t.target.value;e.props.onFocus&&e.props.onFocus(n)},e.focus=function(){e.inputRef&&e.inputRef.focus()},e}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.onBlur,t.onFocus,c(t,["onBlur","onFocus"]));return i.createElement("input",(0,r.default)({ref:function(t){return e.inputRef=t},onBlur:this.onInputBlur,onFocus:this.onInputFocus},n))}}]),t}(i.Component);t.default=d,e.exports=t.default},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={confirmLabel:"\u786e\u5b9a",backspaceLabel:"\u9000\u683c",cancelKeyboardLabel:"\u6536\u8d77\u952e\u76d8"},e.exports=t.default}}]);
//# sourceMappingURL=1.a364fda2.chunk.js.map