{"version":3,"sources":["pages/Account/Setting.module.less","pages/Account/Setting.js"],"names":["module","exports","setting-list","Item","antd_mobile_lib_list__WEBPACK_IMPORTED_MODULE_13___default","a","Setting","props","_this","Object","_Users_michael_Desktop_sites_classroom_react_react_webpack_start_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_6__","this","_Users_michael_Desktop_sites_classroom_react_react_webpack_start_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_8__","_Users_michael_Desktop_sites_classroom_react_react_webpack_start_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_9__","call","onClickSubmit","e","preventDefault","dispatch","fetchLogout","then","res","catch","err","antd_mobile_lib_toast__WEBPACK_IMPORTED_MODULE_5___default","fail","msg","bind","_Users_michael_Desktop_sites_classroom_react_react_webpack_start_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_10__","_this2","react__WEBPACK_IMPORTED_MODULE_14___default","createElement","className","styles","renderHeader","arrow","onClick","history","push","antd_mobile_lib_white_space__WEBPACK_IMPORTED_MODULE_3___default","antd_mobile_lib_button__WEBPACK_IMPORTED_MODULE_1___default","type","PureComponent","createForm","withRouter","connect","state","login"],"mappings":"8EACAA,EAAAC,QAAA,CAAkBC,eAAA,mSCQZC,EAAOC,EAAAC,EAAKF,KAEZG,cAKJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAIRQ,cAAgB,SAAAC,GACdA,EAAEC,iBACFT,EAAKD,MACFW,SAASC,eACTC,KAAK,SAAAC,MASLC,MAAM,SAAAC,GACLC,EAAAnB,EAAMoB,KAAKF,EAAIG,QAjBnBlB,EAAKO,cAAgBP,EAAKO,cAAcY,KAAnBlB,OAAAmB,EAAA,EAAAnB,CAAAD,IAFJA,wEAqCV,IAAAqB,EAAAlB,KACP,OACEmB,EAAAzB,EAAA0B,cAAA,OAAKC,UAAWC,IAAO,iBACrBH,EAAAzB,EAAA0B,cAAA3B,EAAAC,EAAA,CAAM6B,aAAc,iBAAM,KACxBJ,EAAAzB,EAAA0B,cAAC5B,EAAD,CACEgC,MAAM,aACNC,QAAS,WACPP,EAAKtB,MAAM8B,QAAQC,KAAK,eAH5B,4BAQAR,EAAAzB,EAAA0B,cAAC5B,EAAD,CACEgC,MAAM,aACNC,QAAS,WACPP,EAAKtB,MAAM8B,QAAQC,KAAK,eAH5B,6BASFR,EAAAzB,EAAA0B,cAAAQ,EAAAlC,EAAA,MAnBF,IAmBiByB,EAAAzB,EAAA0B,cAAAQ,EAAAlC,EAAA,MAnBjB,IAmBgCyB,EAAAzB,EAAA0B,cAAAQ,EAAAlC,EAAA,MAC9ByB,EAAAzB,EAAA0B,cAAAQ,EAAAlC,EAAA,MACAyB,EAAAzB,EAAA0B,cAAAS,EAAAnC,EAAA,CAAQoC,KAAK,UAAUL,QAASzB,KAAKI,eAArC,4BAGAe,EAAAzB,EAAA0B,cAAAQ,EAAAlC,EAAA,MAxBF,IAwBiByB,EAAAzB,EAAA0B,cAAAQ,EAAAlC,EAAA,MAxBjB,IAwBgCyB,EAAAzB,EAAA0B,cAAAQ,EAAAlC,EAAA,cApEhBqC,iBAkFPC,wBAAaC,YAAWC,YATf,SAAAC,GAKtB,MAAO,CACLC,MAHED,EADFC,MAASA,QAO0BF,CAAyBvC","file":"static/js/18.d882bc4e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"setting-list\":\"_2FkWe0pYkjn6DMTeh8uoZm\"};","import React, { PureComponent } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { createForm } from 'rc-form'\nimport { connect } from 'react-redux'\nimport { List, Toast, Button, WhiteSpace } from 'antd-mobile'\nimport { fetchLogout } from '@/actions/login'\nimport styles from './Setting.module.less'\n\nconst Item = List.Item\n\nclass Setting extends PureComponent {\n  static propTypes = {\n    login: PropTypes.object.isRequired,\n    dispatch: PropTypes.func.isRequired,\n  }\n  constructor(props) {\n    super(props)\n    this.onClickSubmit = this.onClickSubmit.bind(this) // 退出登录\n  }\n  // 退出登录\n  onClickSubmit = e => {\n    e.preventDefault()\n    this.props\n      .dispatch(fetchLogout())\n      .then(res => {\n        // const { msg, status } = res\n        // if (status) {\n        //   Toast.success('登出成功', 3, null, false)\n        //   this.props.history.push('/')\n        // } else {\n        //   Toast.fail(msg, 3, null, false)\n        // }\n      })\n      .catch(err => {\n        Toast.fail(err.msg)\n      })\n    // fakeAccountLogout()\n    //   .then(result => {\n    //     const { code, msg, data, status } = result\n    //     if (status) {\n    //       // removeAuthority()\n    //       // removeLoginMobile()\n    //       window.location.href = 'https://test.lingshenzhineng.com/h5/#/'\n    //     } else {\n    //       Toast.fail(msg, 3, null, false)\n    //     }\n    //   })\n    //   .then(() => {\n    //     this.props.history.push('/login')\n    //   })\n  }\n\n  render() {\n    return (\n      <div className={styles['setting-list']}>\n        <List renderHeader={() => ''}>\n          <Item\n            arrow='horizontal'\n            onClick={() => {\n              this.props.history.push('/password')\n            }}\n          >\n            修改密码\n          </Item>\n          <Item\n            arrow='horizontal'\n            onClick={() => {\n              this.props.history.push('/about-us')\n            }}\n          >\n            关于我们\n          </Item>\n        </List>\n        <WhiteSpace /> <WhiteSpace /> <WhiteSpace />\n        <WhiteSpace />\n        <Button type='primary' onClick={this.onClickSubmit}>\n          退出登录\n        </Button>\n        <WhiteSpace /> <WhiteSpace /> <WhiteSpace />\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  const {\n    login: { login },\n  } = state\n\n  return {\n    login,\n  }\n}\nexport default createForm()(withRouter(connect(mapStateToProps)(Setting)))\n"],"sourceRoot":""}